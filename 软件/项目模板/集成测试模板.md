---
<%*
// 默认负责人:罗杰
// 获取项目名称
let title = tp.file.title;
if (title.startsWith("Untitled") || title == "") {
    title = await tp.system.prompt("项目名称？");
    if(!title) return;
}

// 获取版本名称
let version = await tp.system.prompt("版本名称？");
if(!version) return;

// 获取任务名称
let taskName = await tp.system.prompt("任务名称？");
if(!taskName) return;

// 获取负责人
let owner = await tp.system.prompt("负责人？");
if(!owner) return;

// 创建基础路径
let basePath = "项目管理/software";
let projectPath = basePath + "/" + title;
let versionPath = projectPath + "/" + version;
let taskPath = versionPath + "/" + taskName;

// 逐级检查并创建目录
if (!await app.vault.adapter.exists(projectPath)) {
    await app.vault.createFolder(projectPath);
}
if (!await app.vault.adapter.exists(versionPath)) {
    await app.vault.createFolder(versionPath);
}
if (!await app.vault.adapter.exists(taskPath)) {
    await app.vault.createFolder(taskPath);
}

// 移动并重命名当前文件
await tp.file.move(taskPath + "/集成测试.md");
-%>
tags: 工作任务
类型: 任务
所属项目: <% title %>
名称: "[[<% taskName %>]]"
状态: 未开始
重要程度: 重要
紧急程度: 紧急
负责人: "[[<% owner %>]]"
下一次检查时间: <% tp.file.creation_date("YYYY-MM-DD HH:mm") %>
创建时间: <% tp.file.creation_date("YYYY-MM-DD HH:mm") %>
截止时间: <% tp.file.creation_date("YYYY-MM-DD") %>
---
## 所属项目：[[<% title %>]]

状态: `INPUT[inlineSelect(option(未开始),option(进行中),option(已完成),defaultValue(未开始)):状态]` 重要程度: `INPUT[inlineSelect(option(重要),option(不重要),defaultValue(重要)):重要程度]` 紧急程度: `INPUT[inlineSelect(option(紧急),option(不紧急),defaultValue(紧急)):紧急程度]`

## 功能说明


集成测试模板
